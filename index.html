<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Indicadores de Costura</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #020617;
    overflow: hidden;
    font-family: "Segoe UI", system-ui, sans-serif;
}

/* iframes */
.iframe {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    border: none;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    z-index: 1;
}

.visible {
    opacity: 1;
    z-index: 2;
}

/* fondo animado */
#bg {
    position: fixed;
    inset: 0;
    background:
      linear-gradient(120deg, #020617, #020617 40%, #0f172a),
      radial-gradient(circle at 20% 20%, rgba(56,189,248,.15), transparent 40%),
      radial-gradient(circle at 80% 80%, rgba(14,165,233,.2), transparent 40%);
    animation: bgMove 10s ease-in-out infinite alternate;
    z-index: 0;
}

@keyframes bgMove {
    from { transform: scale(1); }
    to   { transform: scale(1.1); }
}

/* overlay gerencial */
#overlay {
    position: fixed;
    inset: 0;
    z-index: 5;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(6px);
}

#card {
    padding: 80px 120px;
    border-radius: 24px;
    background: rgba(2,6,23,.7);
    box-shadow:
        0 0 60px rgba(56,189,248,.25),
        inset 0 0 0 1px rgba(255,255,255,.08);
    text-align: center;
}

#title {
    font-size: 3vw;
    letter-spacing: 6px;
    color: #e5f6ff;
    margin-bottom: 20px;
}

#subtitle {
    font-size: 1.3vw;
    letter-spacing: 4px;
    color: #38bdf8;
    margin-bottom: 40px;
}

/* loader */
#loader {
    width: 300px;
    height: 6px;
    background: rgba(255,255,255,.1);
    border-radius: 10px;
    overflow: hidden;
    margin: auto;
}

#loader span {
    display: block;
    width: 40%;
    height: 100%;
    background: linear-gradient(90deg, #38bdf8, #0ea5e9);
    animation: slide 2.5s ease-in-out infinite;
}

@keyframes slide {
    from { transform: translateX(-100%); }
    to   { transform: translateX(260%); }
}
</style>
</head>

<body>

<div id="bg"></div>

<div id="overlay">
    <div id="card">
        <div id="title">INDICADORES DE COSTURA</div>
        <div id="subtitle">ACTUALIZANDO INFORMACIÓN</div>
        <div id="loader"><span></span></div>
    </div>
</div>

<iframe id="frameA" class="iframe visible"></iframe>
<iframe id="frameB" class="iframe"></iframe>

<script>
const links = [
    "https://app.powerbi.com/view?r=eyJrIjoiNjMyMDUwNWYtNWIzNS00ODRiLWE3NTAtOTRkZWY1MzFhMmJiIiwidCI6IjU0NmM0MjUzLTY3NTQtNGYwNC05OWRiLTY5MWMyMDQ2YjJlYyIsImMiOjR9",
    "https://app.powerbi.com/view?r=eyJrIjoiMDEzNTdhNTUtOGU4ZS00MDVhLWEwMWItMGJhZTQxZDI4ZTg0IiwidCI6IjU0NmM0MjUzLTY3NTQtNGYwNC05OWRiLTY5MWMyMDQ2YjJlYyIsImMiOjR9"
];

let index = 0;
let activeFrame = "A";

const frameA = document.getElementById("frameA");
const frameB = document.getElementById("frameB");
const overlay = document.getElementById("overlay");

// carga inicial
frameA.src = links[index];
index++;

function cambiarReporte() {
    overlay.style.display = "flex";

    const nextLink = links[index % links.length];
    index++;

    const incoming = activeFrame === "A" ? frameB : frameA;
    const outgoing = activeFrame === "A" ? frameA : frameB;

    incoming.src = nextLink;

    // tiempo seguro para que Power BI cargue (TV friendly)
    setTimeout(() => {
        incoming.classList.add("visible");
        outgoing.classList.remove("visible");

        overlay.style.display = "none";
        activeFrame = activeFrame === "A" ? "B" : "A";
    }, 5000); // ⬅️ este valor es CLAVE (no lo bajes de 4s)
}

// rotación cada 15s
setInterval(cambiarReporte, 50000);
</script>

</body>
</html>


